{% extends 'core/base.html' %}
{% load static %}
{% block title %}Eliminar Venta{% endblock %}

{% block content %}

<div class="card shadow-sm">
  <div class="card-body">
    <h2 class="mb-4">Eliminar Venta</h2>
    <p>¿Estás seguro de que quieres eliminar la venta <strong>#{{ object.id }}</strong> del cliente <strong>{{ object.cliente.nombre }}</strong>?</p>
    
    {% if object.estado == 'CONFIRMADA' %}
    <p class="text-danger fw-bold">
      ADVERTENCIA: Esta venta está CONFIRMADA. Eliminarla NO reversará los movimientos de inventario ya creados.
      La forma correcta de anularla es crear un movimiento de ajuste.
    </p>
    {% else %}
    <p class="text-muted">Esta acción no se puede deshacer y eliminará todos los items asociados.</p>
    {% endif %}

    <form method="post">
      {% csrf_token %}
      <button type="submit" class="btn btn-danger">Confirmar Eliminación</button>
      <a href="{% url 'venta-list' %}" class="btn btn-secondary">Cancelar</a>
    </form>
  </div>
</div>

{% endblock %}